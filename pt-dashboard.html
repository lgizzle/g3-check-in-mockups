<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G3 PT Dashboard - December 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .kpi-card { transition: transform 0.2s; }
        .kpi-card:hover { transform: translateY(-2px); }
        .trainer-row:hover { background-color: #f9fafb; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-purple-900 text-white py-4 px-6 shadow-lg">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-purple-700 rounded-lg flex items-center justify-center">
                    <i class="fas fa-dumbbell text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold">Personal Training Dashboard</h1>
                    <p class="text-purple-200 text-sm">Department Performance Overview</p>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <a href="pt-portal-home.html" class="text-purple-200 hover:text-white text-sm">
                    <i class="fas fa-home mr-1"></i> Home
                </a>
                <a href="pt-portal-demo.html" class="text-purple-200 hover:text-white text-sm">
                    <i class="fas fa-file-import mr-1"></i> Sessions
                </a>
                <a href="trainer-admin.html" class="text-purple-200 hover:text-white text-sm">
                    <i class="fas fa-cog mr-1"></i> Admin
                </a>
                <div class="text-right">
                    <p class="text-sm text-purple-200">Logged in as: JR (Lead Trainer)</p>
                    <p class="text-xs text-purple-300">Jan 4, 2026</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Period Selector -->
    <div class="bg-white border-b shadow-sm py-4 px-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <select class="border rounded-lg px-4 py-2 font-medium" id="monthSelect" onchange="updateDashboard()">
                    <option value="2025-12" selected>December 2025</option>
                    <option value="2025-11">November 2025</option>
                    <option value="2025-10">October 2025</option>
                </select>
                <span class="text-gray-500 text-sm">vs previous month</span>
            </div>
            <div class="flex items-center gap-3">
                <button class="px-4 py-2 border rounded-lg text-sm hover:bg-gray-50">
                    <i class="fas fa-download mr-2"></i> Export Report
                </button>
                <button class="px-4 py-2 border rounded-lg text-sm hover:bg-gray-50">
                    <i class="fas fa-print mr-2"></i> Print
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 px-6">

        <!-- KPI Cards Row -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
            <!-- Gross Revenue -->
            <div class="kpi-card bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-500 text-sm font-medium">Gross Revenue</span>
                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-dollar-sign text-green-600"></i>
                    </div>
                </div>
                <p class="text-3xl font-bold text-gray-800">$32,374.95</p>
                <div class="flex items-center mt-2">
                    <span class="text-green-600 text-sm font-medium"><i class="fas fa-arrow-up mr-1"></i>8.2%</span>
                    <span class="text-gray-400 text-sm ml-2">vs Nov</span>
                </div>
            </div>

            <!-- Total Payroll -->
            <div class="kpi-card bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-500 text-sm font-medium">Total Payroll</span>
                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-users text-blue-600"></i>
                    </div>
                </div>
                <p class="text-3xl font-bold text-gray-800">$22,388.57</p>
                <div class="flex items-center mt-2">
                    <span class="text-green-600 text-sm font-medium"><i class="fas fa-arrow-up mr-1"></i>6.5%</span>
                    <span class="text-gray-400 text-sm ml-2">vs Nov</span>
                </div>
            </div>

            <!-- Gross Profit -->
            <div class="kpi-card bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-500 text-sm font-medium">Gross Profit</span>
                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-purple-600"></i>
                    </div>
                </div>
                <p class="text-3xl font-bold text-gray-800">$9,986.38</p>
                <div class="flex items-center mt-2">
                    <span class="text-green-600 text-sm font-medium"><i class="fas fa-arrow-up mr-1"></i>12.1%</span>
                    <span class="text-gray-400 text-sm ml-2">vs Nov</span>
                </div>
            </div>

            <!-- Net Profit -->
            <div class="kpi-card bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-500 text-sm font-medium">Net Profit</span>
                    <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-piggy-bank text-amber-600"></i>
                    </div>
                </div>
                <p class="text-3xl font-bold text-gray-800">$3,982.64</p>
                <div class="flex items-center mt-2">
                    <span class="text-green-600 text-sm font-medium"><i class="fas fa-arrow-up mr-1"></i>15.3%</span>
                    <span class="text-gray-400 text-sm ml-2">vs Nov</span>
                </div>
            </div>
        </div>

        <!-- Second Row: Margins & Sessions -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
            <div class="bg-white rounded-xl shadow-md p-4 flex items-center gap-4">
                <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center">
                    <span class="text-lg font-bold text-gray-600">30.8%</span>
                </div>
                <div>
                    <p class="text-gray-500 text-xs">Gross Margin</p>
                    <p class="text-gray-800 font-medium">Target: 30%</p>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md p-4 flex items-center gap-4">
                <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center">
                    <span class="text-lg font-bold text-gray-600">12.3%</span>
                </div>
                <div>
                    <p class="text-gray-500 text-xs">Net Margin</p>
                    <p class="text-gray-800 font-medium">Target: 10%</p>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md p-4 flex items-center gap-4">
                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                    <span class="text-lg font-bold text-green-600">554</span>
                </div>
                <div>
                    <p class="text-gray-500 text-xs">Total Sessions</p>
                    <p class="text-green-600 font-medium"><i class="fas fa-arrow-up text-xs"></i> +42 vs Nov</p>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md p-4 flex items-center gap-4">
                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                    <span class="text-lg font-bold text-purple-600">9</span>
                </div>
                <div>
                    <p class="text-gray-500 text-xs">Active Trainers</p>
                    <p class="text-gray-800 font-medium">6 Senior, 3 Entry</p>
                </div>
            </div>
        </div>

        <!-- Charts & Tables Row -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <!-- Revenue Trend Chart -->
            <div class="lg:col-span-2 bg-white rounded-xl shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-4">
                    <i class="fas fa-chart-area text-purple-600 mr-2"></i>
                    Revenue Trend (Q4 2025)
                </h3>
                <canvas id="revenueChart" height="200"></canvas>
            </div>

            <!-- Department Financials -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-4">
                    <i class="fas fa-calculator text-purple-600 mr-2"></i>
                    Department Financials
                </h3>
                <div class="space-y-3">
                    <div class="flex justify-between py-2 border-b">
                        <span class="text-gray-600">Gross Revenue</span>
                        <span class="font-mono font-medium">$32,374.95</span>
                    </div>
                    <div class="flex justify-between py-2 border-b">
                        <span class="text-gray-600">Trainer Payroll</span>
                        <span class="font-mono font-medium text-red-600">-$22,388.57</span>
                    </div>
                    <div class="flex justify-between py-2 border-b bg-gray-50 px-2 -mx-2">
                        <span class="font-medium text-gray-700">Gross Profit</span>
                        <span class="font-mono font-bold">$9,986.38</span>
                    </div>
                    <div class="flex justify-between py-2 border-b">
                        <span class="text-gray-600">Overhead (12%)</span>
                        <span class="font-mono font-medium text-red-600">-$3,884.99</span>
                    </div>
                    <div class="flex justify-between py-2 border-b">
                        <span class="text-gray-600">Commission (5%)</span>
                        <span class="font-mono font-medium text-red-600">-$1,618.75</span>
                    </div>
                    <div class="flex justify-between py-2 border-b">
                        <span class="text-gray-600">JR Salary</span>
                        <span class="font-mono font-medium text-red-600">-$500.00</span>
                    </div>
                    <div class="flex justify-between py-2 bg-green-50 px-2 -mx-2 rounded">
                        <span class="font-bold text-green-800">Net Profit</span>
                        <span class="font-mono font-bold text-green-700">$3,982.64</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trainer Performance Table -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-bold text-gray-800">
                    <i class="fas fa-trophy text-amber-500 mr-2"></i>
                    Trainer Performance - December 2025
                </h3>
                <div class="flex items-center gap-2 text-sm text-gray-500">
                    <span class="px-2 py-1 bg-amber-100 text-amber-700 rounded">70% = Senior</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 rounded">50% = Entry</span>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="border-b-2 border-gray-200">
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">Rank</th>
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">Trainer</th>
                            <th class="px-4 py-3 text-center text-sm font-medium text-gray-600">Sessions</th>
                            <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">Gross Revenue</th>
                            <th class="px-4 py-3 text-center text-sm font-medium text-gray-600">Split</th>
                            <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">Base Pay</th>
                            <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">Extras</th>
                            <th class="px-4 py-3 text-right text-sm font-medium text-gray-600">Total Payroll</th>
                        </tr>
                    </thead>
                    <tbody id="trainerTable">
                        <!-- Populated by JavaScript -->
                    </tbody>
                    <tfoot>
                        <tr class="border-t-2 border-gray-300 bg-gray-50 font-bold">
                            <td class="px-4 py-3"></td>
                            <td class="px-4 py-3">TOTALS</td>
                            <td class="px-4 py-3 text-center" id="totalSessions">554</td>
                            <td class="px-4 py-3 text-right" id="totalGross">$32,374.95</td>
                            <td class="px-4 py-3"></td>
                            <td class="px-4 py-3"></td>
                            <td class="px-4 py-3"></td>
                            <td class="px-4 py-3 text-right text-purple-700" id="totalPayroll">$22,388.57</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- Bottom Row: Session Breakdown & Alerts -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Session Category Breakdown -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-4">
                    <i class="fas fa-pie-chart text-purple-600 mr-2"></i>
                    Session Categories
                </h3>
                <div class="flex items-center gap-6">
                    <canvas id="categoryChart" width="180" height="180"></canvas>
                    <div class="flex-1 space-y-3">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-purple-500"></div>
                                <span class="text-gray-600">Regular PT</span>
                            </div>
                            <span class="font-mono font-medium">512</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                                <span class="text-gray-600">Comped</span>
                            </div>
                            <span class="font-mono font-medium">18</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-indigo-500"></div>
                                <span class="text-gray-600">Rookies</span>
                            </div>
                            <span class="font-mono font-medium">16</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-gray-400"></div>
                                <span class="text-gray-600">Consultations</span>
                            </div>
                            <span class="font-mono font-medium">8</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alerts & Action Items -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-4">
                    <i class="fas fa-bell text-amber-500 mr-2"></i>
                    Alerts & Action Items
                </h3>
                <div class="space-y-3">
                    <div class="flex items-start gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                        <i class="fas fa-exclamation-triangle text-yellow-600 mt-0.5"></i>
                        <div>
                            <p class="font-medium text-yellow-800">Kyra's CPR expires Dec 1</p>
                            <p class="text-sm text-yellow-600">Renewal required to continue training</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200">
                        <i class="fas fa-info-circle text-blue-600 mt-0.5"></i>
                        <div>
                            <p class="font-medium text-blue-800">3 sessions pending resolution</p>
                            <p class="text-sm text-blue-600">Members without active packages</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200">
                        <i class="fas fa-check-circle text-green-600 mt-0.5"></i>
                        <div>
                            <p class="font-medium text-green-800">December sessions fully processed</p>
                            <p class="text-sm text-green-600">All deductions applied on Jan 3</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-200">
                        <i class="fas fa-star text-purple-600 mt-0.5"></i>
                        <div>
                            <p class="font-medium text-purple-800">Conner approaching 60% tier</p>
                            <p class="text-sm text-purple-600">6 months at 50%, review due</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-4 px-6 mt-8">
        <div class="max-w-7xl mx-auto text-center text-sm">
            G3 Sports & Fitness - Personal Training Department | Data as of Jan 4, 2026
        </div>
    </footer>

    <script>
        // Trainer performance data (December 2025 from spreadsheet)
        const trainerData = [
            { rank: 1, name: 'JR Prieto-Romero', sessions: 102, gross: 8154.25, split: 70, basePay: 5707.98, extras: 308.70, extraNote: 'nutrition', total: 5707.98 },
            { rank: 2, name: 'Kyra Schulties', sessions: 97, gross: 6136.75, split: 70, basePay: 4295.73, extras: 30.10, extraNote: 'comped', total: 4325.83 },
            { rank: 3, name: 'Josiah Iwamizu', sessions: 95, gross: 6532.65, split: 70, basePay: 4572.86, extras: 0, extraNote: '', total: 4572.86 },
            { rank: 4, name: 'Mason Morgan', sessions: 92, gross: 6088.05, split: 70, basePay: 4261.64, extras: 90.00, extraNote: 'rookies', total: 4351.64 },
            { rank: 5, name: 'Becca Reeve', sessions: 58, gross: 4075.50, split: 70, basePay: 2852.85, extras: 0, extraNote: '', total: 2852.85 },
            { rank: 6, name: 'Conner McAdams', sessions: 21, gross: 1387.75, split: 50, basePay: 693.88, extras: 45.15, extraNote: 'comped', total: 739.03 },
            { rank: 7, name: 'Steve Sackmann', sessions: 48, gross: 3200.00, split: 70, basePay: 2240.00, extras: 0, extraNote: '', total: 2240.00 },
            { rank: 8, name: 'Jess Caze', sessions: 28, gross: 1600.00, split: 50, basePay: 800.00, extras: 0, extraNote: '', total: 800.00 },
            { rank: 9, name: 'Jayna Davis', sessions: 13, gross: 800.00, split: 50, basePay: 400.00, extras: 0, extraNote: '', total: 400.00 }
        ];

        function renderTrainerTable() {
            const tbody = document.getElementById('trainerTable');
            tbody.innerHTML = trainerData.map((t, i) => `
                <tr class="trainer-row border-b ${i < 3 ? 'bg-amber-50' : ''}">
                    <td class="px-4 py-3 text-center">
                        ${t.rank <= 3 ? `<span class="inline-flex items-center justify-center w-6 h-6 rounded-full ${t.rank === 1 ? 'bg-amber-400' : t.rank === 2 ? 'bg-gray-300' : 'bg-amber-600'} text-white text-xs font-bold">${t.rank}</span>` : t.rank}
                    </td>
                    <td class="px-4 py-3 font-medium">${t.name}</td>
                    <td class="px-4 py-3 text-center">${t.sessions}</td>
                    <td class="px-4 py-3 text-right font-mono">$${t.gross.toLocaleString('en-US', {minimumFractionDigits: 2})}</td>
                    <td class="px-4 py-3 text-center">
                        <span class="px-2 py-1 rounded text-xs font-medium ${t.split === 70 ? 'bg-amber-100 text-amber-700' : 'bg-gray-100 text-gray-600'}">${t.split}%</span>
                    </td>
                    <td class="px-4 py-3 text-right font-mono">$${t.basePay.toLocaleString('en-US', {minimumFractionDigits: 2})}</td>
                    <td class="px-4 py-3 text-right font-mono text-gray-500">
                        ${t.extras > 0 ? `+$${t.extras.toFixed(2)}` : '-'}
                        ${t.extraNote ? `<span class="text-xs text-gray-400 ml-1">(${t.extraNote})</span>` : ''}
                    </td>
                    <td class="px-4 py-3 text-right font-mono font-bold text-purple-700">$${t.total.toLocaleString('en-US', {minimumFractionDigits: 2})}</td>
                </tr>
            `).join('');
        }

        // Revenue Trend Chart
        function initRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: 'Gross Revenue',
                            data: [28500, 29920, 32375],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Payroll',
                            data: [19800, 21020, 22389],
                            borderColor: '#6366f1',
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Net Profit',
                            data: [3100, 3455, 3983],
                            borderColor: '#f59e0b',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            fill: true,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        }

        // Session Category Pie Chart
        function initCategoryChart() {
            const ctx = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Regular PT', 'Comped', 'Rookies', 'Consultations'],
                    datasets: [{
                        data: [512, 18, 16, 8],
                        backgroundColor: ['#8b5cf6', '#3b82f6', '#6366f1', '#9ca3af'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    cutout: '65%'
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderTrainerTable();
            initRevenueChart();
            initCategoryChart();
        });
    </script>
</body>
</html>
